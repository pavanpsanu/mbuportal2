{"version":3,"file":"ngx-doc-viewer.js","sources":["../../../../libs/helper.ts","../../../../libs/ngx-doc-viewer/src/lib/document-viewer.component.ts","../../../../libs/ngx-doc-viewer/src/lib/document-viewer.module.ts","../../../../libs/model.ts","../../../../libs/ngx-doc-viewer.ts"],"names":[],"mappings":"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","sourcesContent":["// eslint-disable-next-line no-var\r\ndeclare var mammoth: any;\r\nimport { IFrameReloader, ViewerType } from './model';\r\n\r\nexport const fileToArray = (url: string): Promise<ArrayBuffer> => {\r\n  return new Promise<ArrayBuffer>((resolve, reject) => {\r\n    try {\r\n      const request = new XMLHttpRequest();\r\n      request.open('GET', url, true);\r\n      request.responseType = 'blob';\r\n      request.onload = () => {\r\n        const reader = new FileReader();\r\n        reader.readAsArrayBuffer(request.response);\r\n        reader.onloadend = () => {\r\n          resolve(reader.result as ArrayBuffer);\r\n        };\r\n      };\r\n      request.send();\r\n    } catch {\r\n      reject(`error while retrieving file ${url}.`);\r\n    }\r\n  });\r\n};\r\n\r\nconst reloadIFrame = (iframe: HTMLIFrameElement) => {\r\n  if (iframe) {\r\n    console.log('reloading..');\r\n    // eslint-disable-next-line no-self-assign\r\n    iframe.src = iframe.src;\r\n  }\r\n};\r\n\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nexport const handleFileUpload = (fileInput: any) => {\r\n  return new Promise<string>((resolve, reject) => {\r\n    if (fileInput.target.files && fileInput.target.files[0]) {\r\n      const reader = new FileReader();\r\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n      reader.onload = (e: any) => {\r\n        resolve(e.target.result);\r\n      };\r\n      reader.readAsDataURL(fileInput.target.files[0]);\r\n    } else {\r\n      reject('no files selected');\r\n    }\r\n  });\r\n};\r\n\r\nexport const getbaseUrl = (): string => {\r\n  const pathArray = window.location.href.split('/');\r\n  const protocol = pathArray[0];\r\n  const host = pathArray[2];\r\n  return protocol + '//' + host;\r\n};\r\n\r\n\r\nexport const getLocation = (href: string) => {\r\n  const match = href.match(/^(https?\\:)\\/\\/(([^:\\/?#]*)(?:\\:([0-9]+))?)([\\/]{0,1}[^?#]*)(\\?[^#]*|)(#.*|)$/);\r\n  return match && {\r\n    href,\r\n    protocol: match[1],\r\n    host: match[2],\r\n    hostname: match[3],\r\n    port: match[4],\r\n    pathname: match[5],\r\n    search: match[6],\r\n    hash: match[7]\r\n  }\r\n}\r\n\r\nexport const getDocxToHtml = async (url: string) => {\r\n  if (!mammoth) {\r\n    console.error(\r\n      'Please install mammoth and make sure mammoth.browser.min.js is loaded.'\r\n    );\r\n  }\r\n  const arrayBuffer = await fileToArray(url);\r\n  const resultObject = await mammoth.convertToHtml({ arrayBuffer });\r\n  return resultObject.value;\r\n};\r\n\r\nexport const googleCheckSubscription = (): IFrameReloader => {\r\n  let subscription: any = null;\r\n  let checkCount = 0;\r\n  return {\r\n    subscribe: (iframe: HTMLIFrameElement, interval = 3000, maxChecks = 5) => {\r\n      if (!iframeIsLoaded(iframe)) {\r\n        subscription = setInterval(() => {\r\n          checkCount++;\r\n          if (checkCount >= maxChecks) {\r\n            clearInterval(subscription);\r\n          }\r\n          reloadIFrame(iframe);\r\n        }, interval);\r\n        return subscription;\r\n      } else {\r\n        if (subscription) {\r\n          clearInterval(subscription);\r\n        }\r\n      }\r\n    },\r\n    unsubscribe: () => {\r\n      if (subscription) {\r\n        clearInterval(subscription);\r\n      }\r\n    },\r\n  };\r\n};\r\n\r\nexport const iframeIsLoaded = (iframe: HTMLIFrameElement) => {\r\n  // its #document <html><head></head><body></body></html> when google is returning a 204\r\n  // so if contentDocument = null then it's loaded.\r\n  let isLoaded = false;\r\n  try {\r\n    if (!internetExplorer()) {\r\n      isLoaded = !iframe?.contentDocument;\r\n    } else {\r\n      isLoaded = !iframe?.contentWindow?.document;\r\n    }\r\n  } catch {\r\n    // ignore message Blocked a frame with origin \"http://...\" from accessing a cross-origin frame.\r\n  }\r\n  return isLoaded;\r\n}\r\n\r\nconst internetExplorer = () =>\r\n  (/MSIE (\\d+\\.\\d+);/.test(navigator.userAgent) || navigator.userAgent.indexOf(\"Trident/\") > -1);\r\n\r\nexport const getViewerDetails = (\r\n  url: string,\r\n  configuredViewer: ViewerType = 'google',\r\n  queryParams = '',\r\n  viewerUrl = ''\r\n) => {\r\n  switch (configuredViewer) {\r\n    case 'google':\r\n      viewerUrl = `https://docs.google.com/gview?url=%URL%&embedded=true`;\r\n      break;\r\n    case 'office': {\r\n      viewerUrl = `https://view.officeapps.live.com/op/embed.aspx?src=%URL%`;\r\n      break;\r\n    }\r\n    case 'pdf': {\r\n      viewerUrl = '';\r\n      break;\r\n    }\r\n  }\r\n  const externalViewer =\r\n    configuredViewer === 'google' ||\r\n    configuredViewer === 'office' ||\r\n    configuredViewer === 'url';\r\n\r\n  const u = url?.indexOf('/') ? encodeURIComponent(url) : url;\r\n  let fullUrl = viewerUrl ? viewerUrl.replace('%URL%', u) : url;\r\n  if (queryParams && externalViewer && configuredViewer !== 'url') {\r\n    const start = queryParams.startsWith('&') ? '' : '&';\r\n    fullUrl = `${fullUrl}${start}${queryParams}`;\r\n  }\r\n  return {\r\n    url: fullUrl,\r\n    externalViewer,\r\n  };\r\n};\r\n\r\nexport const replaceLocalUrl = (url: string, overrideLocalhost: string) => {\r\n  const loc = getLocation(url);\r\n  const locReplace = getLocation(overrideLocalhost);\r\n  if (loc && locReplace) {\r\n    return url.replace(loc.port ? `${loc.hostname}:${loc.port}` : loc.hostname,\r\n      locReplace.port ? `${locReplace.hostname}:${locReplace.port}` : locReplace.hostname);\r\n  }\r\n  return url;\r\n}\r\n\r\nconst getBlobFromUrl = (url: string) => {\r\n  return new Promise<File>((resolve, reject) => {\r\n    let request = new XMLHttpRequest();\r\n    request.open('GET', url, true);\r\n    request.responseType = 'blob';\r\n    request.onload = () => {\r\n      resolve(request.response as File);\r\n    };\r\n    request.onerror = reject;\r\n    request.send();\r\n  })\r\n}\r\n\r\n\r\nexport const uploadToCloud = (fileUrl: string, api: string) => new Promise((resolve, reject) => {\r\n  getBlobFromUrl(fileUrl).then(blob => {\r\n    const loc = getLocation(fileUrl);\r\n    const name = loc?.pathname ? loc?.pathname?.split('/')[loc?.pathname?.split('/').length - 1] : '';\r\n    const formData = new FormData();\r\n    const request = new XMLHttpRequest();\r\n    formData.append('file', blob, name);\r\n    request.onreadystatechange = e => {\r\n      if (request.readyState === XMLHttpRequest.DONE) {\r\n        if (request.status === 200) {\r\n          resolve(request.responseText);\r\n        } else {\r\n          reject(request.responseText);\r\n        }\r\n      }\r\n    };\r\n    request.onerror = reject;\r\n    request.open('post', api, true);\r\n    request.send(formData);\r\n  });\r\n});\r\n\r\nexport const isLocalFile = (file: string) => {\r\n  const loc = getLocation(file);\r\n  const hostname = loc?.hostname || '';\r\n  return (\r\n    (['localhost', '127.0.0.1', '', '::1'].includes(hostname))\r\n    || (hostname.startsWith('192.168.'))\r\n    || (hostname.startsWith('10.0.'))\r\n    || (hostname.endsWith('.local'))\r\n  )\r\n};","import {\r\n  Component,\r\n  Input,\r\n  NgZone,\r\n  OnDestroy,\r\n  OnChanges,\r\n  SimpleChanges,\r\n  Output,\r\n  ViewChildren,\r\n  QueryList,\r\n  ElementRef,\r\n  AfterViewInit,\r\n} from '@angular/core';\r\nimport { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser';\r\nimport { EventEmitter } from '@angular/core';\r\n// eslint-disable-next-line @nrwl/nx/enforce-module-boundaries\r\nimport {\r\n  getDocxToHtml,\r\n  getViewerDetails,\r\n  googleCheckSubscription,\r\n  iframeIsLoaded,\r\n  isLocalFile,\r\n  replaceLocalUrl\r\n} from './../../../helper';\r\nimport {\r\n  IFrameReloader\r\n} from './../../../model';\r\n// eslint-disable-next-line @typescript-eslint/naming-convention\r\nexport type viewerType = 'google' | 'office' | 'mammoth' | 'pdf' | 'url';\r\n@Component({\r\n  // eslint-disable-next-line @angular-eslint/component-selector\r\n  selector: 'ngx-doc-viewer',\r\n  templateUrl: 'document-viewer.component.html',\r\n  styles: [\r\n    `\r\n      :host {\r\n        display: block;\r\n      }\r\n      .container {\r\n        width: 100%;\r\n        height: 100%;\r\n        position: relative;\r\n      }\r\n      .overlay-popout-google {\r\n        width: 40px;\r\n        height: 40px;\r\n        right: 26px;\r\n        top: 11.5px;\r\n        position: absolute;\r\n        z-index: 1000;\r\n      }\r\n      .overlay-popout-office {\r\n        width: 100px;\r\n        height: 20px;\r\n        right: 0;\r\n        bottom: 0;\r\n        position: absolute;\r\n        z-index: 1000;\r\n      }\r\n      .overlay-full {\r\n        width: 100%;\r\n        height: 100%;\r\n        right: 0;\r\n        top: 0;\r\n        position: absolute;\r\n        z-index: 1000;\r\n      }\r\n      iframe {\r\n        width: 100%;\r\n        height: 100%;\r\n      }\r\n    `,\r\n  ],\r\n})\r\nexport class NgxDocViewerComponent implements OnChanges, OnDestroy, AfterViewInit {\r\n  @Output() loaded: EventEmitter<void> = new EventEmitter();\r\n  @Input() url = '';\r\n  @Input() queryParams = '';\r\n  @Input() viewerUrl = '';\r\n  @Input() googleCheckInterval = 3000;\r\n  @Input() googleMaxChecks = 5;\r\n  @Input() disableContent: 'none' | 'all' | 'popout' | 'popout-hide' = 'none';\r\n  @Input() googleCheckContentLoaded = true;\r\n  @Input() viewer: viewerType;\r\n  @Input() overrideLocalhost: '';\r\n  @ViewChildren('iframe') iframes: QueryList<ElementRef>;\r\n\r\n  public fullUrl: SafeResourceUrl = null;\r\n  public externalViewer = false;\r\n  public docHtml = '';\r\n  public configuredViewer: viewerType = 'google';\r\n  private checkIFrameSubscription: IFrameReloader;\r\n  private shouldCheckIframe = false;\r\n\r\n  constructor(private domSanitizer: DomSanitizer, private ngZone: NgZone) { }\r\n\r\n  ngAfterViewInit(): void {\r\n    if (this.shouldCheckIframe) {\r\n      const iframe = this.iframes?.first\r\n        ?.nativeElement as HTMLIFrameElement;\r\n      if (iframe) {\r\n        this.shouldCheckIframe = false;\r\n        this.reloadIframe(iframe);\r\n      }\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.checkIFrameSubscription) {\r\n      this.checkIFrameSubscription.unsubscribe();\r\n    }\r\n  }\r\n\r\n  async ngOnChanges(changes: SimpleChanges): Promise<void> {\r\n    if (\r\n      changes &&\r\n      changes.viewer &&\r\n      (changes.viewer.isFirstChange ||\r\n        changes.viewer.currentValue !== changes.viewer.previousValue)\r\n    ) {\r\n      if (\r\n        this.viewer !== 'google' &&\r\n        this.viewer !== 'office' &&\r\n        this.viewer !== 'mammoth' &&\r\n        this.viewer !== 'pdf' &&\r\n        this.viewer !== 'url'\r\n      ) {\r\n        console.error(\r\n          `Unsupported viewer: '${this.viewer}'. Supported viewers: google, office, mammoth and pdf`\r\n        );\r\n      }\r\n      this.configuredViewer = this.viewer;\r\n    }\r\n\r\n    if (\r\n      (changes.url && changes.url.currentValue !== changes.url.previousValue) ||\r\n      (changes.viewer &&\r\n        changes.viewer.currentValue !== changes.viewer.previousValue) ||\r\n      (changes.viewerUrl &&\r\n        changes.viewerUrl.currentValue !== changes.viewerUrl.previousValue)\r\n    ) {\r\n      let viewerDetails = getViewerDetails(\r\n        this.url,\r\n        this.configuredViewer,\r\n        this.queryParams,\r\n        this.viewerUrl\r\n      );\r\n      this.externalViewer = viewerDetails.externalViewer;\r\n      if (viewerDetails.externalViewer && this.overrideLocalhost && isLocalFile(this.url)) {\r\n        const newUrl = replaceLocalUrl(this.url, this.overrideLocalhost);\r\n        viewerDetails = getViewerDetails(\r\n          newUrl,\r\n          this.configuredViewer,\r\n          this.queryParams,\r\n          this.viewerUrl\r\n        );\r\n      }\r\n      this.docHtml = '';\r\n      if (this.checkIFrameSubscription) {\r\n        this.checkIFrameSubscription.unsubscribe();\r\n      }\r\n      if (!this.url) {\r\n        this.fullUrl = null;\r\n      } else if (\r\n        viewerDetails.externalViewer ||\r\n        this.configuredViewer === 'url'\r\n      ) {\r\n        this.fullUrl = this.domSanitizer.bypassSecurityTrustResourceUrl(\r\n          viewerDetails.url\r\n        );\r\n        // see:\r\n        // https://stackoverflow.com/questions/40414039/google-docs-viewer-returning-204-responses-no-longer-working-alternatives\r\n        // hack to reload iframe if it's not loaded.\r\n        // would maybe be better to use view.officeapps.live.com but seems not to work with sas token.\r\n        if (\r\n          this.configuredViewer === 'google' &&\r\n          this.googleCheckContentLoaded\r\n        ) {\r\n          this.ngZone.runOutsideAngular(() => {\r\n            // if it's not loaded after the googleIntervalCheck, then open load again.\r\n            const iframe = this.iframes?.first\r\n              ?.nativeElement as HTMLIFrameElement;\r\n            if (iframe) {\r\n              this.reloadIframe(iframe);\r\n            } else {\r\n              this.shouldCheckIframe = true;\r\n            }\r\n          });\r\n        }\r\n      } else if (this.configuredViewer === 'mammoth') {\r\n        this.docHtml = await getDocxToHtml(this.url);\r\n      }\r\n    }\r\n  }\r\n\r\n  private reloadIframe(iframe: HTMLIFrameElement) {\r\n    this.checkIFrameSubscription = googleCheckSubscription();\r\n    this.checkIFrameSubscription.subscribe(\r\n      iframe,\r\n      this.googleCheckInterval,\r\n      this.googleMaxChecks\r\n    );\r\n  }\r\n\r\n  iframeLoaded() {\r\n    const iframe = this.iframes?.first\r\n      ?.nativeElement as HTMLIFrameElement;\r\n    if (iframe && iframeIsLoaded(iframe)) {\r\n      this.loaded.emit(null);\r\n      if (this.checkIFrameSubscription) {\r\n        this.checkIFrameSubscription.unsubscribe();\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { NgxDocViewerComponent } from './document-viewer.component';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [NgxDocViewerComponent],\r\n  exports: [NgxDocViewerComponent],\r\n})\r\nexport class NgxDocViewerModule {}\r\n","export type ViewerType = 'google' | 'office' | 'mammoth' | 'pdf' | 'url';\r\n\r\ninterface Props {\r\n  loaded?: () => void;\r\n  url: string;\r\n  queryParams?: string;\r\n  viewerUrl?: string;\r\n  googleCheckInterval?: number;\r\n  disableContent?: 'none' | 'all' | 'poput' | 'popout-hide';\r\n  googleCheckContentLoaded?: boolean;\r\n  viewer?: ViewerType;\r\n}\r\n\r\nexport interface IFrameReloader {\r\n  subscribe: (\r\n    iframe: HTMLIFrameElement,\r\n    interval?: number,\r\n    maxChecks?: number\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  ) => any;\r\n  unsubscribe: () => void;\r\n}\r\n\r\nexport const defaultProps: Props = {\r\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n  loaded: () => {},\r\n  disableContent: 'none',\r\n  googleCheckContentLoaded: true,\r\n  googleCheckInterval: 3000,\r\n  queryParams: '',\r\n  url: '',\r\n  viewer: 'google',\r\n  viewerUrl: '',\r\n};\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './ngx-doc-viewer-wrapper';\n"]}